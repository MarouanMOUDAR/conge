<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:p="http://primefaces.org/ui"
      xmlns:f="http://xmlns.jcp.org/jsf/core">
    <h:head>
        <title>  </title>
    </h:head>
    <h:body>
        
_
        
        <h:form id="listdemandeForm">
                   <p:tabMenu activeIndex="#{param.i}">
               
                <p:menuitem value="Show All Demandeconge Items" outcome="/demandeConge/List"  icon="ui-icon-star">
        <f:param name="i" value="6" />
    </p:menuitem>
    <p:menuitem value="HistoriqueConge" outcome="/demandeConge/HistoriqueConge">
        <f:param name="i" value="1" />
    </p:menuitem>
    <p:menuitem value="My New demands" outcome="/demandeConge/NvDemande" >
        <f:param name="i" value="2" />
    </p:menuitem>
    <p:menuitem value="Show charts" outcome="/demandeConge/StatistiquesBar" >
        <f:param name="i" value="3" />
    </p:menuitem>
    <p:menuitem value="Create Demande" outcome="/demandeConge/Create" >
        <f:param name="i" value="4" />
    </p:menuitem>
    <p:menuitem value="List Entite" outcome="/entiteAdministrative/List" >
        <f:param name="i" value="4" />
    </p:menuitem>
    
</p:tabMenu>
<!--            <p:outputLabel value="List Des chefs"  />
            <p:selectOneMenu id="chef" value="#{demandeCongeController.chef}" >
                <f:selectItems value="#{employeeController.chefs}"
                               var="employeeItem"
                               itemValue="#{employeeItem}" itemLabel="#{employeeItem.prenom} #{employeeItem.nom}" />
            </p:selectOneMenu>
            <br/>
            <p:commandButton actionListener="#{demandeCongeController.findDemandeBychef()}" value="demande" update=":listdemandeForm:datalist"></p:commandButton>
      -->

            <h1><h:outputText value="List"/></h1>
            <p:dataTable value="#{demandeCongeController.demandeByChefDetail}" var="item" id="datalist">

                <p:column>
                    <f:facet name="header">
                        <h:outputText value="Id"/>
                    </f:facet>
                    <h:outputText value="#{item.id}"/>
                </p:column>
                <p:column>
                    <f:facet name="header">
                        <h:outputText value="Employee"/>
                    </f:facet>
                    <h:outputText value="#{item.employee.nom} #{item.employee.prenom}"  />
                </p:column>
                <p:column>
                    <f:facet name="header">
                        <h:outputText value="TypeConge"/>
                    </f:facet>
                    <h:outputText value="#{item.typeConge.nom}"/>
                </p:column>
                <p:column>
                    <f:facet name="header">
                        <h:outputText value="DateDebut"/>
                    </f:facet>
                    <h:outputText value="#{item.dateDebut}">
                        <f:convertDateTime pattern="MM/dd/yyyy" />
                    </h:outputText>
                </p:column>
                <p:column>
                    <f:facet name="header">
                        <h:outputText value="DateFin"/>
                    </f:facet>
                    <h:outputText value="#{item.dateFin}">
                        <f:convertDateTime pattern="MM/dd/yyyy" />
                    </h:outputText>
                </p:column>
                <p:column>
                    <f:facet name="header">
                        <h:outputText value="Duree"/>
                    </f:facet>
                    <h:outputText value="#{item.duree}"/>
                </p:column>

                <p:column>
                    <f:facet name="header">
                        <h:outputText value="Etat"/>
                    </f:facet>
                    <h:commandButton  actionListener="#{demandeCongeController.accepter(item)}" value="ACCEPTER" />
                    <h:commandButton  actionListener="#{demandeCongeController.refuser(item)}" value="REFUSER" />
                    
                </p:column>

            </p:dataTable>
        </h:form>
    </h:body>
</html>

